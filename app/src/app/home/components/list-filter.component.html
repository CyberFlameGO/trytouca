<div class="flex items-stretch space-x-2">
  <form class="flex-grow">
    <input type="search" placeholder="{{ filterQueryPlaceholder }}&hellip;"
      autocomplete="off" name="rowFilter" id="rowFilter"
      (keyup)="onKeyupRowFilter($event)" [value]="filterQueryValue"
      class="wsl-input-field">
  </form>
  <div wslDropdown>
    <button type="button" id="dropdown-button-filter" aria-haspopup="true"
      aria-expanded="false"
      class="wsl-btn-sm wsl-btn-muted wsl-dropdown-toggle h-full">
      Filter: <b class="font-medium">{{ filterName }}</b>&nbsp;<fa-icon
        icon="chevron-down" size="xs" class="opacity-50"></fa-icon>
    </button>
    <ul class="wsl-dropdown-menu hidden w-48"
      aria-labelledby="dropdown-button-filter">
      <li *ngFor="let filter of filters" (click)="filterName=filter.key"
        class="wsl-dropdown-item">
        {{ filter.name }}
      </li>
    </ul>
  </div>
  <div wslDropdown>
    <button type="button" id="dropdown-button-sort" aria-haspopup="true"
      aria-expanded="false" [disabled]="isSearchActive()"
      class="wsl-btn-sm wsl-btn-muted wsl-dropdown-toggle h-full">
      Sort: <b class="font-medium">{{ sorterName }}</b>&nbsp;<fa-icon
        icon="chevron-down" size="xs" class="opacity-50"></fa-icon>
    </button>
    <ul class="wsl-dropdown-menu hidden w-48"
      aria-labelledby="dropdown-button-sort">
      <li *ngFor="let sorter of sorters" (click)="sorterName=sorter.key"
        class="wsl-dropdown-item">
        {{ sorter.name }}
      </li>
    </ul>
  </div>
  <div>
    <button (click)="sortOrderToggle()" [disabled]="isSearchActive()"
      class="wsl-btn-sm wsl-btn-muted h-full">
      <fa-icon [icon]="sortOrderIcon"></fa-icon>
    </button>
  </div>
</div>
<ng-container
  *ngIf="stats.totalUnpaginatedRows !== stats.totalRows || (stats.totalUnpaginatedRows === 0 && stats.totalRows === 0)">
  <div *ngIf="stats.totalUnpaginatedRows !== 0"
    class="mt-4 flex justify-between items-center text-sm">
    <p>
      <b>{{ stats.totalUnpaginatedRows }}</b> of <b>{{ stats.totalRows }}</b>
      rows match this filter.
    </p>
    <button (click)="clearFilters()" class="wsl-btn-sm wsl-btn-muted">
      <span>Clear Filters</span>
    </button>
  </div>
  <div *ngIf="stats.totalUnpaginatedRows === 0"
    class="mt-4 p-2 flex justify-center items-center bg-gray-100 border"
    style="min-height: 20vh;">
    <div class="flex flex-col space-y-4 text-center text-sm">
      <p>
        {{ stats.totalRows | i18nPlural: { '=1': 'The row in this list does not match', 'other': 'None of the # rows in this list matches' } }}
        the specified filter.
      </p>
      <div>
        <button (click)="clearFilters()" class="wsl-btn-sm wsl-btn-dark">
          <span>Clear Filters</span>
        </button>
      </div>
    </div>
  </div>
</ng-container>
